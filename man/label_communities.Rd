% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/05_generate_community_labels.R
\name{label_communities}
\alias{label_communities}
\title{Label Communities Using LLM}
\usage{
label_communities(
  groups_data,
  model = "llama3.2:3b-instruct-q8_0",
  retries = 3,
  retry_trunc = 4000
)
}
\arguments{
\item{groups_data}{A list containing `community_content` as returned by `sample_community_text()`.}

\item{model}{Character. The name of the local LLM model (must be available in Ollama).}

\item{retries}{Integer. Number of retry attempts for communities with invalid JSON.}

\item{retry_trunc}{Integer. Maximum character length to truncate input text during retries.}
}
\value{
The input `groups_data`, with `community_content` updated to include model-generated
columns: `label`, `description`, `lang`, `is_valid_json`, `response`, and metadata.
}
\description{
This function takes sampled community content and uses a local LLM model via the `rollama` interface
to generate JSON-formatted labels, descriptions, and language tags for each community. If any results
fail JSON validation, the function retries with truncated input up to a specified number of times.
}
