% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/05_generate_community_labels.R
\name{sample_community_text}
\alias{sample_community_text}
\title{Sample cleaned and formatted post data per community for classification}
\usage{
sample_community_text(
  groups_data,
  additional_text_vars = NULL,
  sampling_ratio = 0.1,
  min_n = 20,
  max_n = 200,
  max_n_per_account = 10,
  min_chars = 20,
  max_text_length = 500,
  clean_name = FALSE,
  verbose = TRUE,
  seed = 42
)
}
\arguments{
\item{groups_data}{A list containing `post_data` and `node_list` as data.tables.}

\item{additional_text_vars}{Character vector of additional text variables to include.}

\item{sampling_ratio}{Proportion of total posts to sample per community.}

\item{min_n}{Minimum number of posts per community.}

\item{max_n}{Maximum number of posts per community.}

\item{max_n_per_account}{Maximum number of posts per individual account.}

\item{min_chars}{Minimum number of characters for content to be retained.}

\item{max_text_length}{Maximum character length for each text field after cleaning.}

\item{clean_name}{Logical. Whether to clean account names.}

\item{verbose}{Logical. If TRUE, prints summary messages.}

\item{seed}{Integer seed for reproducible sampling.}
}
\value{
`groups_data`, with additional data.table `community_content` with columns: `community`, `text`, `sampled_post_ids`, `approx_tokens`.
}
\description{
This function samples and cleans posts from social media community members,
returning one row per community with a markdown-style text summary, list of post IDs,
and estimated token count.
}
