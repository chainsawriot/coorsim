% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/community_stats.R
\name{community_ei}
\alias{community_ei}
\title{Calculate Internal-External Connections and E-I Index for Communities}
\usage{
community_ei(network_data, global_network_data)
}
\arguments{
\item{network_data}{A list containing the coordinated network data, including the node list with `account_id` and 
`community` columns.}

\item{global_network_data}{A list containing the global interaction network data, including the edge list with `from` 
and `to` columns and a node list with `name` (node names) and `account_id`.}
}
\value{
A data.table with the following columns:
\describe{
  \item{community}{The community ID.}
  \item{internal_connections}{The number of internal connections within the community.}
  \item{external_connections}{The number of external connections from the community to other communities.}
  \item{total_connections}{The total number of connections (internal + external) involving the community.}
  \item{ei_index}{The E-I index for the community, calculated as the surplus of internal connections over 
  external connections, normalized by the total number of connections.}
}
}
\description{
This function calculates the number of internal, external, and total connections for each community, 
as well as the E-I index, which represents the surplus of internal connections over external connections
normalized by the total number of connections. The function treats connections symmetrically, accounting 
for both incoming and outgoing edges between communities.
}
\details{
The function first validates that the necessary columns exist in the input data. It then assigns missing 
community memberships by assigning unmatched nodes to a new community, and merges community information 
with the edge list. It calculates the number of internal and external connections, treating edges 
symmetrically to account for both incoming and outgoing connections. Finally, it computes the aggregated 
statistics by community, including the E-I index.
}
\examples{
\dontrun{
  # Example usage:
  result <- community_ei(network_data, global_network_data)
  print(result)
}

}
